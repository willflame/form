<form #f="ngForm" class="form" (ngSubmit)="onSubmit(f)">
    <div class="form-group"
        [ngClass]="aplicaCssErro(nome)">
        <label for="nome">Nome</label>
        <input 
            type="text" 
            class="form-control" 
            id="nome" 
            name="nome" 
            placeholder="Nome" 
            [(ngModel)]="usuario.nome" 
            required
            #nome="ngModel"/>
            <!-- <div>
                {{ nome.className }}
            </div> -->
        <app-campo-control-erro 
            [mostrarErro]="verificaValidTouched(nome)"
            menssageErro="Nome obrigatório">
        </app-campo-control-erro>
    </div>

    <div class="form-group"
        [ngClass]="aplicaCssErro(email)">
        <label for="email">Email</label>
        <input 
            type="text" 
            class="form-control" 
            id="email" 
            name="email" 
            placeholder="nome@email.com" 
            [(ngModel)]="usuario.email"
            required
            email
            #email="ngModel"/>
        <app-campo-control-erro 
            [mostrarErro]="verificaValidTouched(email)"
            menssageErro="Email obrigatório">
        </app-campo-control-erro>
    </div>
    <div ngModelGroup="endereco">
        <div class="form-group"
            [ngClass]="aplicaCssErro(rua)">
            <label for="rua">Rua</label>
            <input 
                type="text" 
                class="form-control" 
                id="rua" 
                name="rua" 
                placeholder="" 
                ngModel
                required
                #rua="ngModel"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched(rua)"
                menssageErro="rua obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro(cep)">
            <label for="cep">CEP</label>
            <input 
                type="text" 
                class="form-control" 
                id="cep" 
                name="cep" 
                placeholder="000.000-00" 
                [(ngModel)]="usuario.cep"
                required
                #cep="ngModel"
                (blur)="consultaCEP($event.target.value, f)"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched(cep)"
                menssageErro="CEP obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro(numero)">
            <label for="numero">Número</label>
            <input 
                type="text" 
                class="form-control" 
                id="numero" 
                name="numero" 
                placeholder="Numero" 
                [(ngModel)]="usuario.numero"
                required
                #numero="ngModel"/>
            <div *ngIf="!numero.valid && numero.touched">
                Campo obrigatório
            </div>
        </div>
        <div class="form-group">
            <label for="complemento">Complemento</label>
            <input 
                type="text" 
                class="form-control" 
                id="complemento" 
                name="complemento" 
                placeholder="complemento" 
                [(ngModel)]="usuario.complemento"
                #complemento="ngModel"/>
            <div *ngIf="!complemento.valid && complemento.touched">
                Campo obrigatório
            </div>
        </div>
        <div class="form-group">
            <label for="rua">Rua</label>
            <input 
                type="text" 
                class="form-control" 
                id="rua" 
                name="rua" 
                placeholder="Rua" 
                [(ngModel)]="usuario.rua"
                required
                #rua="ngModel"/>
            <div *ngIf="!rua.valid && rua.touched">
                Campo obrigatório
            </div>
        </div>
        <div class="form-group">
            <label for="bairro">Bairro</label>
            <input 
                type="text" 
                class="form-control" 
                id="bairro" 
                name="bairro" 
                placeholder="Bairro" 
                [(ngModel)]="usuario.bairro"
                required
                #bairro="ngModel"/>
            <div *ngIf="!bairro.valid && bairro.touched">
                Campo obrigatório
            </div>
        </div>
        <div class="form-group">
            <label for="cidade">Cidade</label>
            <input 
                type="text" 
                class="form-control" 
                id="cidade" 
                name="cidade" 
                placeholder="Cidade" 
                [(ngModel)]="usuario.cidade"
                required
                #cidade="ngModel"/>
            <div *ngIf="!cidade.valid && cidade.touched">
                Campo obrigatório
            </div>
        </div>
        <div class="form-group">
            <label for="estado">Estado</label>
            <input 
                type="text" 
                class="form-control" 
                id="estado" 
                name="estado" 
                placeholder="Estado" 
                [(ngModel)]="usuario.estado"
                required
                #estado="ngModel"/>
            <div *ngIf="!estado.valid && estado.touched">
                Campo obrigatório
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primery"
     [disabled]="!f.valid">Submit</button>

     <app-form-debug [form]="f"></app-form-debug>
</form>