<form class="form" [formGroup]="formulario" (ngSubmit)="onSubmit()">
    <div class="form-group" [ngClass]="aplicaCssErro('nome')">
        <label for="nome">Nome</label>
        <input 
            type="text" 
            class="form-control" 
            id="nome" 
            formControlName="nome" 
            placeholder="Nome"/>
        <app-campo-control-erro 
            [mostrarErro]="!formulario.controls['nome'].valid && formulario.controls['nome'].touched"
            menssageErro="Nome obrigatório">
        </app-campo-control-erro>
    </div>

    <div class="form-group" [ngClass]="aplicaCssErro('email')">
        <label for="email">Email</label>
        <input 
            type="text" 
            class="form-control" 
            id="email" 
            formControlName="email" 
            placeholder="nome@email.com"/>
        <app-campo-control-erro 
            [mostrarErro]="verificaValidTouched('email')"
            menssageErro="Email obrigatório">
        </app-campo-control-erro>
    </div>

    <div formGroupName="endereco">
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.rua')">
            <label for="rua">Rua</label>
            <input 
                type="text" 
                class="form-control" 
                id="rua" 
                formControlName="rua" 
                placeholder=""/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.rua')"
                menssageErro="rua obrigatório">
            </app-campo-control-erro>
        </div> 
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.cep')">
            <label for="cep">CEP</label>
            <input 
                type="text" 
                class="form-control" 
                id="cep" 
                formControlName="cep" 
                placeholder="000.000-00"
                (blur)="consultaCEP()"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.cep')"
                menssageErro="CEP obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.numero')">
            <label for="numero">Número</label>
            <input 
                type="text" 
                class="form-control" 
                id="numero" 
                formControlName="numero" 
                placeholder="Numero"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.numero')"
                menssageErro="Número obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.complemento')">
            <label for="complemento">Complemento</label>
            <input 
                type="text" 
                class="form-control" 
                id="complemento" 
                formControlName="complemento" 
                placeholder="complemento"/>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.rua')">
            <label for="rua">Rua</label>
            <input 
                type="text" 
                class="form-control" 
                id="rua" 
                formControlName="rua" 
                placeholder="Rua"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.rua')"
                menssageErro="Rua obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.bairro')">
            <label for="bairro">Bairro</label>
            <input 
                type="text" 
                class="form-control" 
                id="bairro" 
                formControlName="bairro" 
                placeholder="Bairro"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.bairro')"
                menssageErro="Bairro obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
         [ngClass]="aplicaCssErro('endereco.cidade')">
            <label for="cidade">Cidade</label>
            <input 
                type="text" 
                class="form-control" 
                id="cidade" 
                formControlName="cidade" 
                placeholder="Cidade"/>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.cidade')"
                menssageErro="Cidade obrigatório">
            </app-campo-control-erro>
        </div>
        <div class="form-group"
            [ngClass]="aplicaCssErro('endereco.estado')">
            <label for="estado">Estado</label>
            <select 
                type="text" 
                class="form-control" 
                id="estado" 
                formControlName="estado" 
                placeholder="Estado">
                <option *ngFor="let estado of estados | async" [value]="estado.sigla">{{ estado.nome }}</option>
            </select>
            <app-campo-control-erro 
                [mostrarErro]="verificaValidTouched('endereco.estado')"
                menssageErro="Estado obrigatório">
            </app-campo-control-erro>
        </div>
    </div>
    <div class="form-group" [ngClass]="aplicaCssErro('cargo')">
        <label for="cargo">Cargo</label>
        <select 
            class="form-control" 
            id="cargo" 
            formControlName="cargo" 
            placeholder="Cargo"
            [compareWith]="compararCargos">
            <option *ngFor="let cargo of cargos" [ngValue]="cargo">{{ cargo.desc }}</option>
        </select>
    </div>
    <div class="form-group" [ngClass]="aplicaCssErro('tecnologia')">
        <label for="tecnologia">Tecnologias</label>
        <select multiple
            class="form-control" 
            id="tecnologia" 
            formControlName="tecnologia" 
            placeholder="Tecnologia">
            <option *ngFor="let tecnologia of tecnologias" [value]="tecnologia.nome">{{ tecnologia.desc }}</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primery">Submit</button>
    <button  class="btn" (click)="resetar()">Cancelar</button>
    <button  class="btn" (click)="setarCargo()">Setar Cargo</button>
    <button  class="btn" (click)="setarTecnologias()">Setar Tecnologias</button>

     <app-form-debug [form]="formulario"></app-form-debug>
</form>